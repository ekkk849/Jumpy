<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="./index.css">
        <link rel="stylesheet" href="./payment.css">
        <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
        <title>Jumpy | Payment</title>
    </head>
    
    <body onload="updateTotal()">
        <div class="footer">
            <a href="./homepage.html"><img src='../images/homepage.png'/></a>
            <a href="./categories.html"><img src='../images/menu.png'/></a>
            <a href="./cart.html"><img src='../images/shopping-cart.png'/></a>
            
        </div>
        <div class="wrapper">
            <div class="header">       
                <div class="headerLeft">
                    <h1>Jumpy</h1>
                </div>
                <div class="headerRight">
                    <div class="search">
                        <Select >
                            <Option value="All">All</Option>
                            <Option value="men's">Men's</Option>
                            <Option value="women's">Women's</Option>
                            <Option value="kid's">Kid's</Option>
                        </Select>
                        <input type="text" id="searchBar" name="searchBar">
                        <img src="./search.png" id="searchIcon">
                    </div>
                </div>
            </div>
            

            <div class="payment">
                <div class="paymentSummary">
                    <h3>Payment Summary</h3>
                    <hr/>
                    <table>
                        <tr>
                            <td><h5>Subtotal:</h5></td>
                            <td><h5 id="subtotal"></h5></td>
                        </tr>
                        <tr>
                            <td><h5>Delivery:</h5></td>
                            <td><h5 id="delivery"></h5></td>
                        </tr>
                        <tr id="COD" hidden="true">
                            <td><h5>COD:</h5></td>
                            <td><h5>10 AED</h5></td>
                        </tr>
                        <tr id="discount" hidden="true">
                            <td><h5>Discount:</h5></td>
                            <td><h5 id="discountTotal">-100 AED</h5></td>
                        </tr>
                        <tr>
                            <td><h4>Total:</h4></td>
                            <td><h4 id="total"></h4></td>
                        </tr>
                    </table>
                    
                    <div>
                        <label for="voucher">Voucher:</label>
                        <input type="text" id="voucher" name="voucher">
                        <button onclick="checkVoucher()">Apply</button>
                    </div>
                    
                </div>
                <div class="paymentMethod">
                    <details onclick="COD(false)">
                        <summary>Credit/Debit Card</summary>
                        <div class="cardDetails">
                            <h5>Biling details</h5>
                            <div>
                                <label for="name">Full name:</label><br>
                                <input type="text" id="name" name="name"><br>
                                <label for="address">Address:</label><br>
                                <input type="text" id="address" name="address"><br>
                                <label for="city">City:</label><br>
                                <input type="text" id="city" name="city"><br>
                                <label for="country">Country:</label><br>
                                <input type="text" id="country" name="country"><br>
                            </div>
                            
                            <hr/>

                            <div>
                                <h5>Card Details</h5>

                                <label for="name">Full Name on Card:</label><br>
                                <input type="text" id="name" name="name"><br>
                                <label for="number">Credit Card Number:</label><br>
                                <input type="text" id="number" name="number"><br>
                                <label for="exp">Expiration:</label><br>
                                <input type="text" id="exp" name="exp"><br>
                                <label for="cvv">CVV:</label><br>
                                <input type="text" id="cvv" name="cvv"><br>

                                <label>
                                    <input type="checkbox" value="save">
                                    Save Card Details
                                </label>

                            </div>

                            <button type="submit">
                                Make Payment
                            </button>
                        </div>
                    </details>

                    <details onclick="COD(true)">
                        <summary>Cash on Delivery</summary>
                        <div class="COD">
                            <button type="submit" onclick="COD(true)">
                                Cash On Delivery (+10 AED)
                            </button>
                        </div>
                    </details>

                    <details onclick="COD(false)">
                        <summary>Paypal</summary>
                        <div id="paypal-button-container" style="max-width:300px; padding: 5%;"></div>
                    </details>

                </div>
            </div>
        </div>
        <div style="padding: 5%;"></div>

        <script rel="text/javacript" src="./payment.js"></script>
        <!-- <script src="https://www.paypal.com/sdk/js?client-id=sb&currency=USD&disable-funding=card&intent=authorize"></script> -->
        <script>
            //Dummy Paypal button
            // paypal.Buttons({
            //     style: {
            //         layout: 'vertical',
            //         color:  'gold',
            //         shape:  'pill',
            //         label:  'pay',
            //     }
            // }).render('#paypal-button-container');
            // //From https://codepen.io/kjhobin/pen/NWKYqLG


            //Closes open details when another is clicked
            const details = document.querySelectorAll("details");

            details.forEach((open) => {
                open.addEventListener("click", () => {
                    details.forEach((detail) => {
                        if (detail !== open) {
                            detail.removeAttribute("open");
                        }
                    });
                });
            });
        </script>
    </body>
</html>